<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <style>
    :root { --card-w: 50vw; --card-h: 100vh; }
    * { box-sizing: border-box; }
    html, body { margin:0; height:100%; background:transparent; overflow:hidden; }
    .wrap{
      height:100%;
      display:flex; align-items:center;
      overflow-x:auto; overflow-y:hidden;
      padding:0; margin:0;
      -webkit-overflow-scrolling:touch;
      scrollbar-width:none;
      scroll-behavior:smooth;
    }
    .wrap::-webkit-scrollbar { display:none; }
    .card{
      position:relative; flex:0 0 var(--card-w); height:var(--card-h);
      background:transparent;
      overflow:hidden;
      display:block; text-decoration:none; cursor:pointer;
    }
    model-viewer{ width:100%; height:100%; background:transparent; pointer-events:none; }

    /* Scrollbar container */
    .scrollbar {
      position:fixed; bottom:32px; left:50%; transform:translateX(-50%);
      width:80vw; height:5px;
      background:rgba(255,255,255,0.3); /* visible line */
      border-radius:3px;
      overflow:visible; /* allow orb + numbers */
    }

    /* Orb */
    .thumb {
      position:absolute; top:50%;
      width:22px; height:22px;
      border-radius:50%;
      background:rgba(255,255,255,0.25);
      backdrop-filter:blur(20px);
      -webkit-backdrop-filter:blur(20px);
      box-shadow: inset 0 2px 6px rgba(255,255,255,0.6),
                  inset 0 -2px 6px rgba(0,0,0,0.25),
                  0 6px 12px rgba(0,0,0,0.5);
      transform:translate(-50%,-50%);
      cursor:pointer;
      transition:left .3s ease;
    }

    /* Numbers positioned along scrollbar */
    .nav {
      position:absolute; top:-28px; left:0; width:100%;
      height:20px;
    }
    .nav a {
      position:absolute;
      transform:translateX(-50%);
      font-weight:bold;
      font-size:16px;
      color:#aaa;
      text-decoration:none;
      transition:color .2s, text-shadow .2s;
    }
    .nav a.active {
      color:#39ff14;
      text-shadow:0 0 8px #39ff14, 0 0 16px #39ff14;
    }
  </style>
</head>
<body>
  <div class="wrap" id="scrollWrap">

    <a class="card" id="card1" href="https://studio.858.ie" target="_top">
      <model-viewer src="myModel.gltf" auto-rotate rotation-per-second="60deg"></model-viewer>
    </a>

    <a class="card" id="card2" href="https://studio.858.ie" target="_top">
      <model-viewer src="L8_T3/L8_T3.gltf" auto-rotate rotation-per-second="60deg" autoplay animation-loop></model-viewer>
    </a>

    <a class="card" id="card3" href="https://studio.858.ie" target="_top">
      <model-viewer src="L8_T2/L8_T2.gltf" auto-rotate rotation-per-second="60deg" autoplay animation-loop></model-viewer>
    </a>

    <a class="card" id="card4" href="https://studio.858.ie" target="_top">
      <model-viewer src="myModel.gltf" auto-rotate rotation-per-second="60deg"></model-viewer>
    </a>

    <a class="card" id="card5" href="https://studio.858.ie" target="_top">
      <model-viewer src="L8_T3/L8_T3.gltf" auto-rotate rotation-per-second="60deg" autoplay animation-loop></model-viewer>
    </a>

  </div>

  <!-- Scrollbar with orb + number anchors -->
  <div class="scrollbar" id="scrollbar">
    <div class="thumb" id="thumb"></div>
    <div class="nav" id="nav"></div>
  </div>

  <script>
    const wrap = document.getElementById('scrollWrap');
    const thumb = document.getElementById('thumb');
    const scrollbar = document.getElementById('scrollbar');
    const navContainer = document.getElementById('nav');
    const cards = document.querySelectorAll('.card');

    // create numbers spaced across scrollbar
    const navLinks = [];
    cards.forEach((card, i) => {
      const a = document.createElement('a');
      a.textContent = i + 1;
      navContainer.appendChild(a);
      navLinks.push(a);
    });

    function positionNav() {
      const trackWidth = scrollbar.clientWidth;
      navLinks.forEach((a, i) => {
        const ratio = i / (cards.length - 1);
        a.style.left = ratio * trackWidth + "px";
      });
    }
    window.addEventListener('resize', positionNav);
    positionNav();

    function updateThumb() {
      const maxScroll = wrap.scrollWidth - wrap.clientWidth;
      const scrollRatio = wrap.scrollLeft / maxScroll;
      const trackWidth = scrollbar.clientWidth;
      thumb.style.left = scrollRatio * trackWidth + 'px';
    }

    function updateActiveLink() {
      let index = 0, minDiff = Infinity;
      cards.forEach((card, i) => {
        const diff = Math.abs(card.offsetLeft - wrap.scrollLeft);
        if (diff < minDiff) { minDiff = diff; index = i; }
      });
      navLinks.forEach((a, i) => a.classList.toggle('active', i === index));
    }

    wrap.addEventListener('scroll', () => { updateThumb(); updateActiveLink(); });
    updateThumb(); updateActiveLink();

    // click number â†’ scroll + orb aligns
    navLinks.forEach((link, i) => {
      link.addEventListener('click', e => {
        e.preventDefault();
        cards[i].scrollIntoView({ behavior:"smooth", inline:"center" });
        navLinks.forEach(l => l.classList.remove('active'));
        link.classList.add('active');
      });
    });

    // drag orb
    let dragging = false;
    thumb.addEventListener('mousedown', e => { dragging = true; e.preventDefault(); });
    window.addEventListener('mouseup', () => dragging = false);
    window.addEventListener('mousemove', e => {
      if (!dragging) return;
      const rect = scrollbar.getBoundingClientRect();
      let x = e.clientX - rect.left;
      x = Math.max(0, Math.min(rect.width, x));
      thumb.style.left = x + 'px';
      const ratio = x / rect.width;
      wrap.scrollLeft = ratio * (wrap.scrollWidth - wrap.clientWidth);
    });

    // trackpad + wheel horizontal scroll
    wrap.addEventListener('wheel', e => {
      wrap.scrollLeft += (Math.abs(e.deltaX) > Math.abs(e.deltaY) ? e.deltaX : e.deltaY);
    });
  </script>
</body>
</html>
